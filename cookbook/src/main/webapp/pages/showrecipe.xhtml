<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Welcome to CookBook</title>
</h:head>
<h:body>
	<ui:composition template="../template.xhtml">
		<ui:define name="content">
			<h:form id="categoryForm">
				<p:panelGrid>
					<f:facet name="header">
						<p:row>
							<p:column colspan="2">Show Recipe</p:column>
						</p:row>
					</f:facet>

					<p:row>
						<p:column>
							<h:outputText value="Recipe Name" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.name}"/>
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputText value="Recipe Category" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.category.name}"/>
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Cooking Method" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.cookingMethod.name}"/>
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputText value="Cuisine" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.cuisine.name}"/>
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Difficulty Level" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.difficulty}"/>
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Cooking Time" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.cookingTime}"/>
							<p:spacer width="3px" />
							<h:outputText value="minutes"/>	
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputText value="Preparation Time" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.prepTime}"/>
							<p:spacer width="3px" />
							<h:outputText value="minutes"/>	
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Serving Quantity" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.servingQty}"/>
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Total Calorie" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.totalCalorie}" id="totalCalorie" />
							<p:spacer width="3px" />
							<h:outputText value="cal"/>	
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputText value="Ingredients" />
						</p:column>
						<p:column>

							<p:dataList id="ingredientTable"
								value="#{recipeBean.recipe.recipeingredientList}" var="ingredient">

								<h:outputText value="#{ingredient.number}" />
								<p:spacer width="3px" />
								<h:outputText value="#{ingredient.unit.name}" />
								<p:spacer width="3px" />
								<h:outputText value="#{ingredient.ingredient.name}" />
								<p:spacer width="3px" />
								<h:outputText value="#{ingredient.ingredientForm.name}" />	
							</p:dataList>

						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Directives" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.directive}"/>
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Tips" />
						</p:column>
						<p:column>
							<h:outputText value="#{recipeBean.recipe.tip}"/>
						</p:column>
					</p:row>

					<p:row>
						<p:column>
							<h:outputText value="Photo" />
						</p:column>
						<p:column>
							<p:graphicImage id="photo" value="#{recipeBean.image}"
								height="300px" width="300px">
							<f:param name="recipeId" value="#{recipeBean.recipe.id}" />
						</p:graphicImage>
						</p:column>
					</p:row>
					
					<p:row>
						<p:column>
							<h:outputText value="Rating" />
						</p:column>
						<p:column>
						<p:rating id="rating" value="#{recipeBean.rating}" rendered="#{userBean.displayName != null}" cancel="false">
							<p:ajax event="rate" listener="#{recipeBean.onrate}" update="rating, avgRating"/>
						</p:rating>
						<p:spacer width="3px"/>
							<h:outputText value="Average: "/>
							<h:outputText id="avgRating" value="#{recipeBean.recipe.averageRating}"/>
						</p:column>
					</p:row>
					
					


					<f:facet name="footer">
						<p:row>
							<p:column>

							</p:column>
							<p:column>
								
							</p:column>
						</p:row>
					</f:facet>

				</p:panelGrid>
			</h:form>
		</ui:define>
	</ui:composition>

</h:body>
</html>
